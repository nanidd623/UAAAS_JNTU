@model IList<UAAAS.Models.Lab>
@using UAAAS.Models;
@{
    ViewBag.Title = "Re-Inspection Colleges Labs Deficiency";
}
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/Validations.js")" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#college').change(function () {
            var collegeId = $(this).val();
            //alert(collegeId);

            if ($('#college').val() !== '') {
                window.location = '/ReInspectionFacultyVerification/AllCollegesLabsDeficiency?rid=' + collegeId;
            }
            else {
                window.location = '/ReInspectionFacultyVerification/AllCollegesLabsDeficiency';
            }
        });



        $('.deficiency11').click(function () {
            $('.webGrid > tbody  > tr').each(function () {
                var selectedVal = "";
                //var selected = $(".Identified input[type='radio']:checked");
                var selected = $(this).find(".Identified input[type='radio']:checked");
                //alert(selected.length);
                if (selected.length == 0) {
                    // alert('0');
                    $(this).find('#deficiency').addClass('required');
                    $(this).find('.Identified').css('background-color', 'red');

                } else {
                    //alert('1');
                    $(this).find('#deficiency').removeClass('required');
                    $(this).find('.Identified').css('background-color', '#FCF1D1');


                }
            });
        });
    });
</script>
@using (Html.BeginForm())
{
    if (@TempData["Success"] != null)
    {
        <div class="success">
            <p><strong>Success:</strong> @TempData["Success"].ToString()</p>
        </div>
    }
    if (TempData["Error"] != null)
    {
        <div class="error">
            <p><strong>Error:</strong> @TempData["Error"].ToString()</p>
        </div>
    }
    @Html.ValidationSummary(true)
    <table class="faculty_table">
        <tr>
            <td class="col1">
                College
            </td>
            <td class="col2">
                @Html.DropDownList("rid", new SelectList(@ViewBag.Colleges, "rid", "RandamCode"),
                "--Select--", new { id = "college", @style = "width:95%" })
            </td>
        </tr>
    </table>

    <br />
    if (ViewBag.display == true)
    {
        <p style="text-align: right">
            <input type="submit" id="btnSubmit" value="Save" class="create_button" />
        </p>
        <table class="webGrid" style="width: 100%;">
            <tr style="font-weight: bold;" class="gridHeader">
                <td style="text-align: center; width: 5%;">S.No</td>
                <td style="text-align: center; width: 5%;">CC</td>
                <td style="text-align: left; width: 10%;">Degree</td>
                <td style="text-align: left; width: 10%;">Department</td>
                <td style="text-align: left;">Specialization</td>
                <td style="text-align: center; width: 5%;">year</td>
                <td style="text-align: left;">Semester</td>
                <td style="text-align: left;">Lab Code</td>
                <td style="text-align: center; width: 20%;">Deficiency</td>
            </tr>
            <tbody>
                @for (int i = 0; i < Model.Count(); i++)
                {

                    <tr>
                        <td style="text-align: center; width: 5%; background-color: #FCF1D1" class="col1">
                            @Html.HiddenFor(m => m[i].id)
                            @Html.HiddenFor(m => m[i].collegeId)
                            @Html.HiddenFor(m => m[i].Labcode)
                            @Html.HiddenFor(m => m[i].specializationId)
                            @Html.HiddenFor(m => m[i].year)
                            @Html.HiddenFor(m => m[i].Semester)
                            @Html.HiddenFor(m => m[i].RandomId)
                            @(i + 1)
                        </td>
                        <td style="text-align: center; background-color: #FCF1D1">@Html.DisplayFor(m => m[i].RandomCode)</td>
                        <td style="background-color: #FCF1D1">@Html.DisplayFor(m => m[i].degree)</td>
                        <td style="background-color: #FCF1D1">@Html.DisplayFor(m => m[i].department)</td>
                        <td style="background-color: #FCF1D1">@Html.DisplayFor(m => m[i].specializationName)</td>
                        <td style="text-align: center; background-color: #FCF1D1">@Html.DisplayFor(m => m[i].year)</td>
                        <td style="text-align: center; background-color: #FCF1D1">@Html.DisplayFor(m => m[i].Semester)</td>
                        <td style="text-align: center; background-color: #FCF1D1">@Html.DisplayFor(m => m[i].Labcode)</td>
                        <td style="background-color: #FCF1D1; text-align: center">
                            <div class="Identified">

                                <span>@Html.RadioButtonFor(m => m[i].deficiency, true, new { @class = "required11 deficiency" })Yes</span>
                                <span>@Html.RadioButtonFor(m => m[i].deficiency, false, new { @class = "required11 deficiency" })No</span>


                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
}

