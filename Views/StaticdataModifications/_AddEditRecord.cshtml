@model UAAAS.Models.college_staticdata_modifications
<script src="@Url.Content("~/Scripts/jquery-1.7.1.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('.btnclass').click(function () {
            if ($('#formNo').val() == '') {
                $('#formNo').addClass('required');
            }
            else {
                $('#formNo').removeClass('required');
            }
            if ($('#justification').val() == '') {
                $('#justification').addClass('required');
            }
            else {
                $('#justification').removeClass('required');
            }
        });
    });
</script>
@using (Ajax.BeginForm("AddEditRecord", "StaticdataModifications", new AjaxOptions(), new { enctype = "multipart/form-data" }))
{
    @Html.ValidationSummary(true)
    @Html.HiddenFor(model => model.collegeId, new { @Value = Model.collegeId })
    if (TempData["Error"] != null)
    {
    <div class="error">
        <p><strong>Error:</strong> @TempData["Error"].ToString()</p>
    </div>
    }
    if (TempData["Success"] != null)
    {
    <div class="success">
        <p><strong>Success:</strong> @TempData["Success"].ToString()</p>
    </div>
    }
    <div class="details_table">
        @if (ViewBag.IsUpdate == true)
        {
            @Html.HiddenFor(model => model.id)
        }
         <div class="editor-label" style="width: 200px">
           <span>Form No</span>
        </div>
        <div class="editor-field" style="width: 290px">
           @Html.DropDownListFor(model => model.formno,
            new SelectList(ViewBag.FarmNumbers as System.Collections.IEnumerable, "Value", "Text"),
                "-- Select --", new { id = "formNo",@class="required" })             
          
        </div>
        <div class="editor-label" style="width: 200px;">
            <span>Data Modification Justification</span>
        </div>
        <div class="editor-field" style="width: 290px;">
            @Html.TextBoxFor(model => model.staticdatafile, new { type = "file", @class = "file", accept = ".pdf" })<span id="err_AprvLtr" style="color:red" class="hide"></span>
            @if (!String.IsNullOrEmpty(@Model.staticdatafilename))
            {
                <a href="~/Content/Upload/CollegeEnclosures/DataModifications/@Model.staticdatafilename" target="_blank">
                    <span style="font-weight: bold; color: red;">View</span>
                </a>
            }
     @Html.HiddenFor(model => model.staticdatafilename)
            @*<img src="@Url.Content("~/Content/images/pdf.png")"> <span id="err_NBAAprvLtr" style="color:red" class="hide"></span>*@
        </div>

        <div class="editor-label" style="width: 200px">
           <span>Justification</span>
        </div>
        <div class="editor-field" style="width: 290px">
           @Html.TextAreaFor(model => model.justification, new { @class = "required" })
        </div>       
        @*@Html.HiddenFor(model => model.createdOn)
        @Html.HiddenFor(model => model.createdBy)*@
        <div style="text-align: center">
            <p>
                @if (ViewBag.IsUpdate == true)
                {
                    <input type="submit" value="Update" id="btnUpdate" name="cmd" class="btnclass" />                   
                }
                else
                {
                    <input type="submit" value="Save" id="btnSave" name="cmd" class="btnclass"  />
                }
            </p>
        </div>
    </div>   
}
