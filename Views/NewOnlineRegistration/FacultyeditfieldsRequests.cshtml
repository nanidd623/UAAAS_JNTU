@model UAAAS.Models.FacultyEditFieldnames
@{
    ViewBag.Title = "FacultyeditfieldsRequests";
    int count = 0;
}

<h2>Request for faculty edit</h2>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/Validations.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jspdf.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jspdf.plugin.from_html.js")" type="text/javascript"></script>
<script type="text/javascript">

    $(document).ready(function () {
        $("#btnsubmit").click(function () {
            debugger;
            var Status = "";
            var FalseFieldsCount = 0;
            var TrueFieldsCount = 0;
            var CheckedBoxes = $('input[type="checkbox"]:checked');
            var CheckedBoxesCount = $('input[type="checkbox"]:checked').length;
            $(CheckedBoxes).each(function (index) {
                debugger;
                var Splitcheck = CheckedBoxes[index].id;
                var textid = Splitcheck.split("_")[1];
                var textField = $("#" + textid).val();
                if (textField == "" || textField == null) {
                    $("#" + textid).addClass("required").css("background-color", "#fc6a6c");
                    Status = "false";
                    FalseFieldsCount++;
                }
                else {
                    $("#" + textid).removeClass("required").css("background-color", "white");
                    Status = "true";
                    TrueFieldsCount++;
                }
            });
            if (Status == "true" && CheckedBoxesCount == TrueFieldsCount && FalseFieldsCount == 0) {
                return true;
            }
            else
                return false;
        });
    });

    function clickfun(item) {
        debugger;
        var check = $(item).attr('id').split("_")[1];
        var jkkfg = $("#" + check).css('display');
        if ($("#" + check).css('display') == "none")
            $("#" + check).css({ "display": "block" });
        else if ($("#" + check).css('display') == "block" || $("#" + check).css('display') == "inline-block")
            $("#" + check).css({ "display": "none" });
    }
</script>
@if (TempData["SUCCESS"] != null)
{
    <div class="success" style="height:15px;">
        <p style="text-align: center;font-weight: bold"><span style="color:green;font-weight:bold;">Success : </span>@TempData["SUCCESS"].ToString()</p>
    </div><br />
}
@if (TempData["ERROR"] != null)
{
    <div class="error">
        <p style="text-align: center;font-weight: bold;"><span style="color:red;font-weight:bold;">Error : </span>@TempData["ERROR"].ToString()</p>
    </div><br />
}
<div style="font-family:Arial">
    @using (Html.BeginForm())
    {
        @Html.HiddenFor(model => model.facultyId)
        <div style="display:inline-block;">
            @for (int i = 0; i < Model.EditCheckboxs.Count; i++)
            {
                var FieldName = Model.EditCheckboxs[i].Field;
                var LabelFieldname = "label" + FieldName;
                var TextFieldname = "TextBox" + FieldName;
                <div class="editor-label" style="width:17%;">
                    @Html.HiddenFor(m => Model.EditCheckboxs[i].Field)
                    @Html.HiddenFor(m => Model.EditCheckboxs[i].FieldId)
                    @Html.HiddenFor(m => Model.EditCheckboxs[i].isEditable)
                    @Html.CheckBoxFor(m => Model.EditCheckboxs[i].isSelect, new { id = "chk_" + FieldName, @class = "Checkbox", onclick = "clickfun(this);" })
                    <span>&nbsp;</span>
                    <span>@Model.EditCheckboxs[i].FieldDesc</span>
                </div>
                <div class="editor-field" style="width:30%;">
                    @Html.TextBoxFor(m => Model.EditCheckboxs[i].requestReason, new { id = FieldName, placeholder = FieldName, @maxlength = "500", @style = "display:none;width:98%;" })
                </div>
            }

        </div>
        <div style="float:right">
            <input type="submit" value="Submit" id="btnsubmit" />
        </div>
        <br/><br/><br />

    }
</div>
