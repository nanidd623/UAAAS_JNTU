@model List<UAAAS.Models.BatchWisePerformance>
@{
    ViewBag.Title = "Academic Performance";
    int index = 0;
}

<h2>Academic Performance</h2>

<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
    google.load("visualization", "1.1", { packages: ["bar"] });
    google.setOnLoadCallback(drawbarChart);

    function drawbarChart() {

        $.post('/Public/GetDataAssets?id=' + GetParameterValues(), {}, function (d) {

            var data = google.visualization.arrayToDataTable(d);

            var options = {
                chart: {
                    title: 'Enrolled Students, Passed Students, and Pass Percentages of last 4 Batches',
                    subtitle: '',
                },
                colors: ['blue', 'green', 'orange'],
                bars: 'vertical' // Required for Material Bar Charts.
            };

            var chart = new google.charts.Bar(document.getElementById('chart_div'));
            chart.draw(data, options);
        });
    }

    function GetParameterValues() {
        var url = window.location.href.slice(window.location.href.lastIndexOf('/') + 1);
        return url;
    }
</script>
<br />
<table style="width: 100%;">
    <tr>
        <td style="width: 50%; vertical-align: top; padding-right: 100px;">

            <table class="four_columns" style="height: 300px;">

                <tr>
                    <th class="col11" style="width: 150px; text-align: center; vertical-align: middle;">Batch
                    </th>
                    <th class="col11" style="width: 150px; text-align: center; vertical-align: middle;">Enrolled Students
                    </th>
                    <th class="col11" style="width: 150px; text-align: center; vertical-align: middle;">Passed Students
                    </th>
                    <th class="col11" style="width: 150px; text-align: center; vertical-align: middle;">Pass Percentage (%)
                    </th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <th class="col11" style="text-align: center; vertical-align: middle;">@item.Duration
                        </th>
                        <td class="col21" style="text-align: center; vertical-align: middle;">@item.Enrolled
                        </td>
                        <td class="col21" style="text-align: center; vertical-align: middle;">@item.Passed
                        </td>
                        <th class="col21" style="text-align: center; vertical-align: middle;">
                            @if (@item.Passed != null)
                            {
                                @item.Percentage
                            }
                        </th>
                    </tr>
                    
                            index++;
                }
            </table>
        </td>
        <td style="vertical-align: top;">

            <div id="chart_div" style="width: 600px; height: 300px;"></div>
        </td>
    </tr>
</table>
